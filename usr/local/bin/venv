#!/bin/bash

VENV_NAME="${1:-venv}"

if [[ -n "$VIRTUAL_ENV" ]]; then
    deactivate
    return
fi

if [[ ! -d "$VENV_NAME" ]]; then
    python3 -m venv $VENV_NAME
fi

if [[ -z "$VIRTUAL_ENV" ]]; then
    source $VENV_NAME/bin/activate
fi
